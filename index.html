<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FOOD COLLECTION</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap" rel="stylesheet">
  <style>
    #close-button { position: absolute; top: 20px; right: 30px; background: transparent; border: none; color: white; font-size: 2rem; cursor: pointer; z-index: 1100;}
#close-button:hover { color: #ff6666;}
    body { text-align: center; font-family: sans-serif; background: #222; color: white; }
    h1 { font-family: 'Cinzel', serif;}
    h2 {font-family: 'Cinzel', serif;}
    .card.horizontal { width: 270px; height: 180px; }
    .section { margin: 20px 0; }
    .card { width: 180px; height: 270px; margin: 10px; display: inline-block; border-radius: 10px; background-size: cover; background-position: center; transition: transform 0.3s ease; cursor: pointer; }
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    .overlay.show {
      opacity: 1;
      pointer-events: all;
    }
    .overlay-content {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  justify-content: center;
  align-items: center;
  max-width: 90%;
}
.overlay-card {
  width: 55vw;
  max-width: 350px;
  height: auto;
  aspect-ratio: 2/3;
  background-size: cover;
  background-position: center;
  border-radius: 10px;
  box-shadow: 0 0 30px rgba(0,0,0,0.7);
  transition: transform 0.3s ease;
}

.overlay-card.horizontal {
  max-width: 550px;  /* ingrandisce le carte orizzontali */
}
  </style>
</head>
<body>
  <h1>FOOD CARD COLLECTION</h1>

  <div class="section" id="pack-section">
    <h2>PACK E BOX</h2>
    <div id="pack-cards"></div>
  </div>  

  <div class="section" id="regular-section">
    <h2>CARTE REGOLARI</h2>
    <div id="regular-cards"></div>
  </div>

  <div class="section" id="rainbow-section">
    <h2>CARTE RAINBOW HOLO</h2>
    <div id="rainbow-cards"></div>
  </div>

  <div class="section" id="secret-section">
    <h2>CARTE SUPER RARE SEGRETE</h2>
    <div id="secret-cards"></div>
  </div>

  <div id="overlay" class="overlay">
    <button id="close-button">X</button>
    <div class="overlay-content">
      <div id="overlay-front" class="overlay-card"></div>
      <div id="overlay-back" class="overlay-card"></div>
    </div>
  </div>
  

  <script>
    const packCards = [
  { front: './images/packfront.png', type: 'pack'},
  { front: './images/packbox.png', type: 'pack'}
];
    const regularCards = [
    { front: './images/card1.png', back: './images/back1.png' },
  { front: './images/card2.png', back: './images/back2.png' },
  { front: './images/card3.png', back: './images/back3.png' },
  { front: './images/card4.png', back: './images/back4.png' },
  { front: './images/card5.png', back: './images/back5.png' },
  { front: './images/card6.png', back: './images/back6.png' },
  { front: './images/card7.png', back: './images/back7.png' },
  { front: './images/card8.png', back: './images/back8.png' },
  { front: './images/card9.png', back: './images/back9.png' },
  { front: './images/card10.png', back: './images/back10.png' },
  { front: './images/card11.png', back: './images/back11.png' },
  { front: './images/card12.png', back: './images/back12.png' },
  { front: './images/card13.png', back: './images/back13.png' },
  { front: './images/card14.png', back: './images/back14.png' },
  { front: './images/card15.png', back: './images/back15.png' },
  { front: './images/card16.png', back: './images/back16.png' },
  { front: './images/card17.png', back: './images/back17.png' },
  { front: './images/card18.png', back: './images/back18.png' },
  { front: './images/card19.png', back: './images/back19.png' },
  { front: './images/card20.png', back: './images/back20.png' },
  { front: './images/card21.png', back: './images/back21.png' },
  { front: './images/card22.png', back: './images/back22.png' },
  { front: './images/card23.png', back: './images/back23.png' },
  { front: './images/card24.png', back: './images/back24.png' },
  { front: './images/card25.png', back: './images/back25.png' },
  { front: './images/card26.png', back: './images/back26.png' },
  { front: './images/card27.png', back: './images/back27.jpg' },
  { front: './images/card28.png', back: './images/back28.jpg' },
  { front: './images/card29.png', back: './images/back29.jpg' },
  { front: './images/card30.png', back: './images/back30.jpg' },
  { front: './images/card31.png', back: './images/back31.jpg' },
  { front: './images/card32.png', back: './images/back32.jpg' },
  { front: './images/card33.png', back: './images/back33.jpg' },
  { front: './images/card34.png', back: './images/back34.jpg' },
  { front: './images/card35.png', back: './images/back35.jpg' },
  { front: './images/card36.png', back: './images/back36.jpg' },
  { front: './images/card37.png', back: './images/back37.jpg' },
  { front: './images/card38.png', back: './images/back38.jpg' },
  { front: './images/card39.png', back: './images/back39.jpg' },
  { front: './images/card40.png', back: './images/back40.jpg' },
  { front: './images/card41.png', back: './images/back41.jpg' },
  { front: './images/card42.png', back: './images/back42.jpg' },
  { front: './images/card43.png', back: './images/back43.jpg' },
  { front: './images/card44.png', back: './images/back44.jpg' },
  { front: './images/card45.png', back: './images/back45.jpg' },
  { front: './images/card46.png', back: './images/back46.jpg' },
  { front: './images/card47.png', back: './images/back47.jpg' },
    ];
    const rainbowCards = [
    { front: './images/card201.jpg', back: './images/back1.png' },
  { front: './images/card202.jpg', back: './images/back2.png' },
  { front: './images/card203.jpg', back: './images/back3.png' },
  { front: './images/card204.jpg', back: './images/back4.png' },
  { front: './images/card205.jpg', back: './images/back5.png' },
  { front: './images/card206.jpg', back: './images/back6.png' },
  { front: './images/card207.jpg', back: './images/back7.png' },
  { front: './images/card208.jpg', back: './images/back8.png' },
  { front: './images/card209.jpg', back: './images/back9.png' },
  { front: './images/card210.jpg', back: './images/back10.png' },
  { front: './images/card211.jpg', back: './images/back11.png' },
  { front: './images/card212.jpg', back: './images/back12.png' },
  { front: './images/card213.jpg', back: './images/back13.png' },
  { front: './images/card214.jpg', back: './images/back14.png' },
  { front: './images/card215.jpg', back: './images/back15.png' },
  { front: './images/card216.jpg', back: './images/back16.png' },
  { front: './images/card217.jpg', back: './images/back17.png' },
  { front: './images/card218.jpg', back: './images/back18.png' },
  { front: './images/card219.jpg', back: './images/back19.png' },
  { front: './images/card220.jpg', back: './images/back20.png' },
  { front: './images/card221.jpg', back: './images/back21.png' },
  { front: './images/card222.jpg', back: './images/back22.png' },
  { front: './images/card223.jpg', back: './images/back23.png' },
  { front: './images/card224.jpg', back: './images/back24.png' },
  { front: './images/card225.jpg', back: './images/back25.png' },
  { front: './images/card226.jpg', back: './images/back26.png' },
  { front: './images/card227.jpg', back: './images/back27.jpg' },
  { front: './images/card228.jpg', back: './images/back28.jpg' },
  { front: './images/card229.jpg', back: './images/back29.jpg' },
  { front: './images/card230.jpg', back: './images/back30.jpg' },
  { front: './images/card231.jpg', back: './images/back31.jpg' },
  { front: './images/card232.jpg', back: './images/back32.jpg' },
  { front: './images/card233.jpg', back: './images/back33.jpg' },
  { front: './images/card234.jpg', back: './images/back34.jpg' },
  { front: './images/card235.jpg', back: './images/back35.jpg' },
  { front: './images/card236.jpg', back: './images/back36.jpg' },
  { front: './images/card237.jpg', back: './images/back37.jpg' },
  { front: './images/card238.jpg', back: './images/back38.jpg' },
  { front: './images/card239.jpg', back: './images/back39.jpg' },
  { front: './images/card240.jpg', back: './images/back40.jpg' },
  { front: './images/card241.jpg', back: './images/back41.jpg' },
  { front: './images/card242.jpg', back: './images/back42.jpg' },
  { front: './images/card243.jpg', back: './images/back43.jpg' },
  { front: './images/card244.jpg', back: './images/back44.jpg' },
  { front: './images/card245.jpg', back: './images/back45.jpg' },
  { front: './images/card246.jpg', back: './images/back46.jpg' },
  { front: './images/card247.jpg', back: './images/back47.jpg' },
    ];
    const secretCards = [
  { front: './images/card301.jpg', back: './images/back301.jpg', orientation: 'horizontal' },
  { front: './images/card302.jpg', back: './images/back302.jpg', orientation: 'horizontal' },
  { front: './images/card303.jpg', back: './images/back303.jpg', orientation: 'horizontal' },
];

    const regularContainer = document.getElementById('regular-cards');
    const rainbowContainer = document.getElementById('rainbow-cards');
    const packContainer = document.getElementById('pack-cards');
    const secretContainer = document.getElementById('secret-cards');
    const overlay = document.getElementById('overlay');
    const overlayFront = document.getElementById('overlay-front');
    const overlayBack = document.getElementById('overlay-back');

    function createCard(cardData, container) {
  const card = document.createElement('div');
  card.className = 'card';
  
  if (cardData.orientation === 'horizontal') {
    card.classList.add('horizontal');
  }
  
  card.style.backgroundImage = `url(${cardData.front})`;
  container.appendChild(card);

  card.addEventListener('click', () => openOverlay(cardData));
  card.addEventListener('mousemove', e => handleMouseMove(e, card, 80));
  card.addEventListener('mouseleave', () => resetTransform(card));
}

    packCards.forEach(c => createCard(c, packContainer));
    secretCards.forEach(c => createCard(c, secretContainer));
    regularCards.forEach(c => createCard(c, regularContainer));
    rainbowCards.forEach(c => createCard(c, rainbowContainer));

    function handleMouseMove(e, el, intensity = 80) {
      const rect = el.getBoundingClientRect();
      const mouseX = (e.clientX - rect.left) / rect.width;
      const mouseY = (e.clientY - rect.top) / rect.height;
      const rotateX = (mouseY - 0.5) * -intensity;
      const rotateY = (mouseX - 0.5) * intensity;
      el.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
    }

    function resetTransform(el) {
      el.style.transform = 'rotateX(0deg) rotateY(0deg)';
    }

    function openOverlay(cardData) {
  overlayFront.style.backgroundImage = `url(${cardData.front})`;

  if (cardData.type === 'pack') {
    overlayBack.style.display = 'none';
    overlayFront.classList.remove('horizontal');
    overlayFront.style.aspectRatio = '2/3';
  } else {
    overlayBack.style.display = 'block';
    overlayBack.style.backgroundImage = `url(${cardData.back})`;

    if (cardData.orientation === 'horizontal') {
      overlayFront.classList.add('horizontal');
      overlayBack.classList.add('horizontal');
      overlayFront.style.aspectRatio = '3/2';
      overlayBack.style.aspectRatio = '3/2';
    } else {
      overlayFront.classList.remove('horizontal');
      overlayBack.classList.remove('horizontal');
      overlayFront.style.aspectRatio = '2/3';
      overlayBack.style.aspectRatio = '2/3';
    }
  }

  overlay.classList.add('show');
}

function closeOverlay(event) {
  if (event.target.id === 'overlay') {
    overlay.classList.remove('show');
  }
}

overlay.addEventListener('click', closeOverlay);
document.getElementById('close-button').addEventListener('click', () => {
  overlay.classList.remove('show');
});
  </script>
<audio id="bg-music" src="./audio/background.mp3" autoplay loop muted></audio>
<script>
  // Sblocca l'audio al primo clic
  window.addEventListener('click', () => {
    const audio = document.getElementById('bg-music');
    audio.muted = false;
    audio.play();
  }, { once: true });
</script>

</body>
</html>
